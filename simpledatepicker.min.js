var simpleDatePicker=function(){class t{constructor(t,e={}){this.selector=t,this.element=document.querySelector(this.selector),this.activeDay=e.activeDay?e.activeDay:(new Date).getDate(),this.activeMonth=e.activeMonth?e.activeMonth-1:(new Date).getMonth(),this.activeYear=e.activeYear?e.activeYear:(new Date).getFullYear(),this.daysInMonth=this.getDaysInMonth(this.activeMonth,this.activeYear),this.maxYears=e.maxYears?e.maxYears:3,this.maxDays=e.maxDays?e.maxDays:5,this.allowPrevDate=e.allowPrevDate?e.allowPrevDate:"true",this.showArrows=e.showArrows?e.showArrows:"true",this.arrowHtml=e.arrowHtml?e.arrowHtml:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330" xml:space="preserve"><path id="XMLID_222_" d="M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001 c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213 C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606 C255,161.018,253.42,157.202,250.606,154.389z"/></svg>',this.datePattern=e.datePattern?e.datePattern:"YYYY/MM/DD",this.langLocale=e.langLocale?e.langLocale:"default",this.inputType=e.inputType?e.inputType:"hidden",this.inputId=e.inputId?e.inputId:"selectedDate",this.liWidth="100%",this.currentDay=(new Date).getDate(),this.currentMonth=(new Date).getMonth(),this.currentYear=(new Date).getFullYear(),this.init()}createSimpleDatePicker(t){const e=document.createElement("div");e.classList.add("simpleDatePicker");const a=document.createElement("div"),s=document.createElement("ul");a.classList.add("years"),"true"==this.showArrows&&this.drawArrow(a,"prev"),a.appendChild(s),"true"==this.showArrows&&this.drawArrow(a,"next"),s.innerHTML=this.drawYear(),e.appendChild(a);const i=document.createElement("div"),r=document.createElement("ul");i.classList.add("months"),"true"==this.showArrows&&this.drawArrow(i,"prev"),i.appendChild(r),"true"==this.showArrows&&this.drawArrow(i,"next"),r.innerHTML=this.drawMonth(this.activeMonth),e.appendChild(i);const n=document.createElement("div"),l=document.createElement("ul");n.classList.add("days"),"true"==this.showArrows&&this.drawArrow(n,"prev"),n.appendChild(l),"true"==this.showArrows&&this.drawArrow(n,"next"),l.innerHTML=this.drawDayList(this.activeDay,this.daysInMonth),e.appendChild(n),t.appendChild(e),this.daysView(),setTimeout(()=>{this.element.querySelectorAll(".days ul li").forEach(t=>{t.classList.add("anim")})},100);const h=document.createElement("input");h.setAttribute("type",this.inputType),h.setAttribute("id",this.inputId);const c=new Date(this.activeYear,this.activeMonth,this.activeDay);h.value=this.formatDate(c,this.datePattern),t.appendChild(h)}getDaysInMonth(t,e){return new Date(e,t+1,0).getDate()}getMonthName(t,e="default"){const a=new Date;return a.setMonth(t-1),new Intl.DateTimeFormat(e,{month:"long"}).format(a)}drawYear(){const t="true"==this.allowPrevDate?this.activeYear-this.maxYears:this.currentYear,e=this.activeYear+this.maxYears+1;let a="";for(let s=t;s<e;s++)a+=s==this.activeYear?'<li class="year active"><span>'+s+"</span></li>":'<li class="year"><span>'+s+"</span></li>";return a}drawMonth(t){let e="";for(let a=1;a<13;a++)e+=a-1==t?'<li class="month active"><span>'+this.getMonthName(a,this.langLocale)+"</span></li>":'<li class="month"><span>'+this.getMonthName(a,this.langLocale)+"</span></li>";return e}drawDayList(t,e){let a="";for(let s=1;s<=e;s++)a+=s==t?'<li class="day active"><span>'+s+"</span></li>":'<li class="day"><span>'+s+"</span></li>";return a}drawDays(){const t=this.element.querySelector(".years li.active").textContent.trim(),e=Array.from(this.element.querySelectorAll(".months ul li")).findIndex(t=>t.classList.contains("active")),a=this.daysInMonth=this.getDaysInMonth(e,t),s=this.element.querySelector(".days li.active").textContent.trim();let i=s>a?a:s;"true"!=this.allowPrevDate&&this.isSameYear()&&this.isSameMonth()&&parseInt(s)<parseInt(this.currentDay)&&(i=this.currentDay),this.element.querySelector(".days ul").innerHTML=this.drawDayList(i,a),this.element.querySelectorAll(".days ul li").forEach(t=>{t.classList.remove("anim")}),this.daysView(),setTimeout(()=>{this.element.querySelectorAll(".days ul li").forEach(t=>{t.classList.add("anim")})},100)}daysView(){const t=Array.from(this.element.querySelectorAll(".days ul li")).findIndex(t=>t.classList.contains("active")),e=this.element.querySelector(".days ul").getBoundingClientRect().width,a=t-Math.floor(this.maxDays/2);this.liWidth=e/this.maxDays,this.element.querySelectorAll(".days ul li").forEach(t=>{t.style.width=this.liWidth+"px",t.style.transform="translateX("+-1*this.liWidth*a+"px)"})}drawArrow(t,e){const a=this.arrowHtml,s=document.createElement("div");s.classList.add("arrow"),s.classList.add("arrow-"+e),s.innerHTML=a,t.appendChild(s)}formatDate(t,e){const a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return e.replace(/YYYY/,a).replace(/MM/,s).replace(/DD/,i)}prevEl(t,e){return t>e?t-1:e}nextEl(t,e){return t<e?t+1:e}changeYear(t){const e=Array.from(this.element.querySelectorAll(".years ul li")),a=e.findIndex(t=>t.classList.contains("active")),s=e.findIndex(t=>t.textContent.trim()==this.currentYear);e[a].classList.remove("active");const i="true"==this.allowPrevDate?s-this.maxYears:s;if(0==t?e[this.prevEl(a,i)].classList.add("active"):e[this.nextEl(a,s+this.maxYears)].classList.add("active"),"true"!=this.allowPrevDate&&0==t&&this.isSameYear()){Array.from(this.element.querySelectorAll(".months ul li")).findIndex(t=>t.classList.contains("active"))<this.currentMonth&&(this.element.querySelector(".months ul").innerHTML=this.drawMonth(this.currentMonth))}this.drawDays(),this.selectedDateValue()}changeMonth(t){const e=Array.from(this.element.querySelectorAll(".months ul li")),a=e.findIndex(t=>t.classList.contains("active"));"true"!=this.allowPrevDate&&0==t&&this.isSameYear()&&this.isSameMonth()||(e[a].classList.remove("active"),0==t?e[this.prevEl(a,0)].classList.add("active"):e[this.nextEl(a,11)].classList.add("active"),this.drawDays(),this.selectedDateValue())}changeDay(t){const e=Array.from(this.element.querySelectorAll(".days ul li")),a=e.findIndex(t=>t.classList.contains("active"));if(!("true"!=this.allowPrevDate&&0==t&&this.isSameYear()&&this.isSameMonth()&&this.isSameDay())){e[a].classList.remove("active"),0==t?e[this.prevEl(a,0)].classList.add("active"):e[this.nextEl(a,this.daysInMonth-1)].classList.add("active");const s=0==t?this.prevEl(a,0)-Math.floor(this.maxDays/2):this.nextEl(a,this.daysInMonth-1)-Math.floor(this.maxDays/2);this.element.querySelectorAll(".days ul li").forEach(t=>{t.style.transform="translateX("+-1*this.liWidth*s+"px)"}),this.selectedDateValue()}}isSameYear(){return this.element.querySelector(".years ul li.active").textContent.trim()==this.currentYear}isSameMonth(){return this.element.querySelector(".months ul li.active").textContent.trim()==this.getMonthName(this.currentMonth+1,this.langLocale)}isSameDay(){return this.element.querySelector(".days ul li.active").textContent.trim()==this.currentDay}selectedDateValue(){const t=this.element.querySelector(".years ul li.active").textContent.trim(),e=Array.from(this.element.querySelectorAll(".months ul li")).findIndex(t=>t.classList.contains("active")),a=this.element.querySelector(".days ul li.active").textContent.trim(),s=new Date(t,e,a);this.element.querySelector("input").value=this.formatDate(s,this.datePattern)}init(){this.createSimpleDatePicker(this.element),"true"==this.showArrows&&(this.element.querySelector(".years .arrow-prev").addEventListener("click",()=>this.changeYear(0)),this.element.querySelector(".years .arrow-next").addEventListener("click",()=>this.changeYear(1)),this.element.querySelector(".months .arrow-prev").addEventListener("click",()=>this.changeMonth(0)),this.element.querySelector(".months .arrow-next").addEventListener("click",()=>this.changeMonth(1)),this.element.querySelector(".days .arrow-prev").addEventListener("click",()=>this.changeDay(0)),this.element.querySelector(".days .arrow-next").addEventListener("click",()=>this.changeDay(1)))}}return t}();